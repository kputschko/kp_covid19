---
title: "Simulating the Spread of Infection"
author: "Kevin Putschko"
date: "4/3/2020"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
library(tidyverse)
source("fx_generate_data.R")
source("fx_plot_spread.R")

r0_lookup <- read_csv("data/r0_lookup_table.csv")

# Choose from these values
r0_lookup$rob %>% unique()
choose_r0 <- 2.5

parameter_list <- 
  r0_lookup %>% 
  filter(rob == choose_r0) %>% 
  sample_n(1) %>% 
  select(-rob, -R0)

function_output <- 
  parameter_list %>% 
  pmap(fx_generate_data)

```

## Title

- include shiny sliders for values
x create animated chart to track number of cases
x maybe make people die after 10-15 steps of infection
x how to simulate R infection rate?
- how to include simulated social distancing?

scenario: in an office, go into work sick vs stay home

## Plot

```{r plot, echo=FALSE, message=FALSE}
function_output[[1]]$data %>% 
  fx_plot_infection_spread()
```

